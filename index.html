<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Penampil 3D Keris</title>
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>

    <style>
        body {
            margin: 0;
            overflow: hidden;
            font-family: sans-serif;
        }

        /* 2. CSS untuk Panel Kontrol */
        #controls {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.7);
            border-radius: 10px;
            padding: 15px 20px;
            z-index: 10;
            color: white;
            width: 80%;
            max-width: 400px;
        }
        
        .slider-group {
            margin-bottom: 10px;
        }
        
        .slider-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }

        input[type="range"] {
            width: 100%;
        }
    </style>
</head>
<body>

    <div id="controls">
        <div class="slider-group">
            <label for="scale-slider">Ukuran (Scale)</label>
            <input type="range" id="scale-slider" min="0.1" max="3" value="1" step="0.1">
        </div>
        <div class="slider-group">
            <label for="rotY-slider">Rotasi (Putar)</label>
            <input type="range" id="rotY-slider" min="0" max="360" value="0" step="1">
        </div>
        <div class="slider-group">
            <label for="rotX-slider">Rotasi (Miring)</label>
            <input type="range" id="rotX-slider" min="-90" max="90" value="0" step="1">
        </div>
    </div>

    <a-scene embedded background="color: #525252">
        
        <a-light type="ambient" color="#888"></a-light>
        <a-light type="directional" position="-1 1 0"></a-light>

        <a-entity
            id="keris-model"
            gltf-model="simple_keris.glb" 
            scale="10 10 10"
            rotation="0 0 0"
            position="0 0 -2"
        ></a-entity>

        <a-camera orbit-controls="target: 0 0 -2; initialPosition: 0 1 1"></a-camera>
    </a-scene>

    <script>
        // Tunggu sampai scene A-Frame siap
        document.addEventListener('DOMContentLoaded', () => {
            
            // Ambil elemen-elemen
            const model = document.querySelector('#keris-model');
            const scaleSlider = document.querySelector('#scale-slider');
            const rotXSlider = document.querySelector('#rotX-slider');
            const rotYSlider = document.querySelector('#rotY-slider');

            // Simpan nilai rotasi saat ini
            let currentRotation = { x: 0, y: 0, z: 0 };
            let currentScale = { x: 1, y: 1, z: 1 };

            // Event listener untuk slider UKURAN
            scaleSlider.addEventListener('input', (event) => {
                const scaleValue = event.target.value;
                currentScale.x = scaleValue;
                currentScale.y = scaleValue;
                currentScale.z = scaleValue;
                
                model.setAttribute('scale', `${currentScale.x} ${currentScale.y} ${currentScale.z}`);
            });

            // Event listener untuk slider ROTASI Y (Putar)
            rotYSlider.addEventListener('input', (event) => {
                currentRotation.y = event.target.value;
                model.setAttribute('rotation', `${currentRotation.x} ${currentRotation.y} ${currentRotation.z}`);
            });

            // Event listener untuk slider ROTASI X (Miring)
            rotXSlider.addEventListener('input', (event) => {
                currentRotation.x = event.target.value;
                model.setAttribute('rotation', `${currentRotation.x} ${currentRotation.y} ${currentRotation.z}`);
            });

        });
    </script>
</body>
</html>